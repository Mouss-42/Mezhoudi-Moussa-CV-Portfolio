const translations = {
    fr: {
        title: "Projet Vilmar SA - Refonte et Amélioration du Site Web",
        home: "Accueil",
        about: "À propos",
        projects: "Projets",
        skills: "Compétences",
        contact: "Contact",
        cv: "CV",
        companyOverview: "Présentation de l'Entreprise",
        projectOverview: "Aperçu du Projet",
        achievements: "Réalisations",
        websiteRedesign: "Refonte du Site",
        supportSection: "Section Support",
        newForms: "Nouveaux Formulaires",
        security: "Sécurité Améliorée",
        technicalDetails: "Détails Techniques",
        contactTitle: "Contact",
        footerText: "Tous droits réservés.",
        companyDescription: "Vilmar SA est une entreprise leader dans le secteur de la forge industrielle, comptant plus de 200 employés. Spécialisée dans la fabrication de pièces forgées pour l'industrie automobile, aéronautique et ferroviaire, Vilmar SA se distingue par son expertise technique et sa capacité d'innovation. L'entreprise est gérée par La Caisse des Dépôts, garantissant une stabilité financière et une vision à long terme.",
        cdcDescription: "La Caisse des Dépôts est un groupe public français jouant un rôle majeur dans l'économie nationale. Avec un portefeuille d'investissement de plus de 1 500 milliards d'euros, elle soutient le développement d'entreprises stratégiques comme Vilmar SA, contribuant ainsi à l'innovation et à la croissance économique du pays.",
        projectDescription: "En tant que stagiaire chez Vilmar SA, j'ai eu l'opportunité de participer à la refonte complète de leur site web. Ce projet a impliqué une modernisation de l'interface utilisateur, l'amélioration de la navigation, et l'ajout de nouvelles fonctionnalités pour mieux servir les clients de Vilmar.",
        redesignDescription: "Modernisation de l'interface utilisateur et amélioration de l'expérience de navigation pour les visiteurs du site.",
        supportDescription: "Création d'une nouvelle section dédiée au support client, facilitant l'accès aux ressources et à  l'assistance.",
        formsDescription: "Développement de nouveaux formulaires pour les demandes de renseignements et la recherche de certificats, optimisant les processus internes.",
        securityDescription: "Migration du site de HTTP à HTTPS, renforçant la sécurité et la confidentialité des données des utilisateurs.",
        techItem1: "Utilisation de HTML5, CSS3 et JavaScript pour une structure moderne et responsive.",
        techItem2: "Intégration de bases de données pour la gestion efficace des formulaires et des demandes clients.",
        techItem3: "Mise en place d'une interface graphique pour la gestion interne des demandes de formulaires.",
        techItem4: "Optimisation des performances et correction de bugs pour une expérience utilisateur fluide."
    },
    en: {
        title: "Vilmar SA Project - Website Redesign and Improvement",
        home: "Home",
        about: "About",
        projects: "Projects",
        skills: "Skills",
        contact: "Contact",
        cv: "Resume",
        companyOverview: "Company Overview",
        projectOverview: "Project Overview",
        achievements: "Achievements",
        websiteRedesign: "Website Redesign",
        supportSection: "Support Section",
        newForms: "New Forms",
        security: "Enhanced Security",
        technicalDetails: "Technical Details",
        contactTitle: "Contact",
        footerText: "All rights reserved.",
        companyDescription: "Vilmar SA is a leading company in the industrial forging sector, with over 200 employees. Specializing in the manufacture of forged parts for the automotive, aerospace, and railway industries, Vilmar SA stands out for its technical expertise and innovation capacity. The company is managed by La Caisse des Dépôts, ensuring financial stability and a long-term vision.",
        cdcDescription: "La Caisse des Dépôts is a French public group playing a major role in the national economy. With an investment portfolio of over 1,500 billion euros, it supports the development of strategic companies like Vilmar SA, thus contributing to innovation and economic growth in the country.",
        projectDescription: "As an intern at Vilmar SA, I had the opportunity to participate in the complete redesign of their website. This project involved modernizing the user interface, improving navigation, and adding new features to better serve Vilmar's customers.",
        redesignDescription: "Modernization of the user interface and improvement of the navigation experience for site visitors.",
        supportDescription: "Creation of a new section dedicated to customer support, facilitating access to resources and assistance.",
        formsDescription: "Development of new forms for inquiries and certificate searches, optimizing internal processes.",
        securityDescription: "Migration of the site from HTTP to HTTPS, enhancing security and user data privacy.",
        techItem1: "Use of HTML5, CSS3, and JavaScript for a modern and responsive structure.",
        techItem2: "Integration of databases for efficient management of forms and customer requests.",
        techItem3: "Implementation of a graphical interface for internal management of form requests.",
        techItem4: "Performance optimization and bug fixing for a smooth user experience."
    },
    jp: {
        title: "Vilmar SA プロジェクト - ウェブサイトのリデザインと改善",
        home: "ホーム",
        about: "紹介",
        projects: "プロジェクト",
        skills: "スキル",
        contact: "連絡先",
        cv: "履歴書",
        companyOverview: "会社概要",
        projectOverview: "プロジェクト概要",
        achievements: "成果",
        websiteRedesign: "ウェブサイトリデザイン",
        supportSection: "サポートセクション",
        newForms: "新規フォーム",
        security: "セキュリティ強化",
        technicalDetails: "技術詳細",
        contactTitle: "連絡先",
        footerText: "全著作権所有。",
        companyDescription: "Vilmar SAは、200人以上の従業員を抱える産業用鍛造分野のリーディングカンパニーです。自動車、航空宇宙、鉄道産業向けの鍛造部品製造を専門とし、技術的専門知識と革新能力で際立っています。La Caisse des Dépôtsによって経営されており、財務的安定性と長期的なビジョンが保証されています。",
        cdcDescription: "La Caisse des Dépôtsは、フランスの国民経済で重要な役割を果たす公的グループです。1兆5000億ユーロを超える投資ポートフォリオを持ち、Vilmar SAのような戦略的企業の発展を支援し、国の革新と経済成長に貢献しています。",
        projectDescription: "Vilmar SAでのインターンシップで、ウェブサイトの完全なリデザインに参加する機会がありました。このプロジェクトでは、ユーザーインターフェースの近代化、ナビゲーションの改善、Vilmarの顧客により良いサービスを提供するための新機能の追加を行いました。",
        redesignDescription: "サイト訪問者のためのユーザーインターフェースの近代化とナビゲーション体験の改善。",
        supportDescription: "カスタマーサポート専用の新セクションを作成し、リソースとサポートへのアクセスを容易にしました。",
        formsDescription: "問い合わせや証明書検索のための新しいフォームを開発し、内部プロセスを最適化しました。",
        securityDescription: "サイトをHTTPからHTTPSに移行し、セキュリティとユーザーデータのプライバシーを強化しました。",
        techItem1: "HTML5、CSS3、JavaScriptを使用して、モダンでレスポンシブな構造を実現。",
        techItem2: "フォームと顧客リクエストを効率的に管理するためのデータベース統合。",
        techItem3: "フォームリクエストの内部管理のためのグラフィカルインターフェースの実装。",
        techItem4: "スムーズなユーザー体験のためのパフォーマンス最適化とバグ修正。"
    }
};

let currentLang = 'fr';

function updateContent(lang) {
    currentLang = lang;
    const t = translations[lang];

    document.title = t.title;
    document.getElementById("project-title").textContent = t.title;
    document.getElementById("company-description").textContent = t.companyDescription;
    document.getElementById("cdc-description").textContent = t.cdcDescription;
    document.getElementById("project-description").textContent = t.projectDescription;
    document.getElementById("redesign-description").textContent = t.redesignDescription;
    document.getElementById("support-description").textContent = t.supportDescription;
    document.getElementById("forms-description").textContent = t.formsDescription;
    document.getElementById("security-description").textContent = t.securityDescription;
    document.getElementById("tech-item1").textContent = t.techItem1;
    document.getElementById("tech-item2").textContent = t.techItem2;
    document.getElementById("tech-item3").textContent = t.techItem3;
    document.getElementById("tech-item4").textContent = t.techItem4;
    document.getElementById("contact-title").textContent = t.contactTitle;
    document.getElementById("footer-text").textContent = t.footerText;

    document.querySelectorAll('[data-translate]').forEach(el => {
        const key = el.getAttribute('data-translate');
        if (t[key]) {
            el.textContent = t[key];
        }
    });

    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.classList.toggle('active', btn.dataset.lang === lang);
    });
}

function addTypewriterEffect(element) {
    const text = element.textContent;
    element.textContent = '';
    let i = 0;
    const timer = setInterval(() => {
        if (i < text.length) {
            element.textContent += text.charAt(i);
            i++;
        } else {
            clearInterval(timer);
        }
    }, 50);
}

function animateFadeIn() {
    const fadeElements = document.querySelectorAll('.fade-in');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, { threshold: 0.1 });

    fadeElements.forEach(el => observer.observe(el));
}

document.addEventListener('DOMContentLoaded', () => {
    updateContent(currentLang);
    addTypewriterEffect(document.getElementById('project-title'));
    animateFadeIn();

    document.querySelectorAll('.lang-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            updateContent(btn.dataset.lang);
        });
    });
});